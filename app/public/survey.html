<!DOCTYPE html>
<html>
<head>
	<title>Friend Finder App | Survey</title>

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

	<link rel="stylesheet" type="text/css" href="assets/styles.css">
	<link href="https://fonts.googleapis.com/css?family=Hind+Madurai" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Cormorant" rel="stylesheet">
	<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">

	<script type="text/javascript" src="https://code.jquery.com/jquery-1.12.4.min.js"></script>

	<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>

		
</head>
<body id="survey">

	<div class="container">

		<h2>Friend Finder Questionnaire</h2>

		<form> <!--action="/api/friends" method="POST"-->
			<div class="friendInfo">
				<p><label for="name">Name</label>
				<input type="text" name="name" id="name" class="form-control"></p>

				<p><label for="photo">Photo (required)</label>
				<input type="text" name="photo" id="photo" class="form-control"></p>
			</div>


			<div class="qSection">
				<p class="qHeader">Question 1</p>
				<p class="question">You believe having fun consists of going to a club and partying.</p>
				<p class="options">
					<input type="radio" name="q1" value="1">Strongly Agree
					<input type="radio" name="q1" value="2">Agree
					<input type="radio" name="q1" value="3">Sometimes
					<input type="radio" name="q1" value="4">Disagree
					<input type="radio" name="q1" value="5">Strongly Disagree
				</p>

				<p class="qHeader">Question 2</p>
				<p class="question">You consider yourself outgoing.</p>
				<p class="options">
					<input type="radio" name="q2" value="1">Strongly Agree
					<input type="radio" name="q2" value="2">Agree
					<input type="radio" name="q2" value="3">Sometimes
					<input type="radio" name="q2" value="4">Disagree
					<input type="radio" name="q2" value="5">Strongly Disagree
				</p>

				<p class="qHeader">Question 3</p>
				<p class="question">You would like to have/you have a variety of friends.</p>
				<p class="options">
					<input type="radio" name="q3" value="1">Strongly Agree
					<input type="radio" name="q3" value="2">Agree
					<input type="radio" name="q3" value="3">Sometimes
					<input type="radio" name="q3" value="4">Disagree
					<input type="radio" name="q3" value="5">Strongly Disagree
				</p>

				<p class="qHeader">Question 4</p>
				<p class="question">You enjoy alone time.</p>
				<p class="options">
					<input type="radio" name="q4" value="1">Strongly Agree
					<input type="radio" name="q4" value="2">Agree
					<input type="radio" name="q4" value="3">Sometimes
					<input type="radio" name="q4" value="4">Disagree
					<input type="radio" name="q4" value="5">Strongly Disagree
				</p>

				<p class="qHeader">Question 5</p>
				<p class="question">You enjoy playing board/video games.</p>
				<p class="options">
					<input type="radio" name="q5" value="1">Strongly Agree
					<input type="radio" name="q5" value="2">Agree
					<input type="radio" name="q5" value="3">Sometimes
					<input type="radio" name="q5" value="4">Disagree
					<input type="radio" name="q5" value="5">Strongly Disagree
				</p>

				<p class="qHeader">Question 6</p>
				<p class="question">You like people.</p>
				<p class="options">
					<input type="radio" name="q6" value="1">Strongly Agree
					<input type="radio" name="q6" value="2">Agree
					<input type="radio" name="q6" value="3">Sometimes
					<input type="radio" name="q6" value="4">Disagree
					<input type="radio" name="q6" value="5">Strongly Disagree
				</p>

				<p class="qHeader">Question 7</p>
				<p class="question">You like animals.</p>
				<p class="options">
					<input type="radio" name="q7" value="1">Strongly Agree
					<input type="radio" name="q7" value="2">Agree
					<input type="radio" name="q7" value="3">Sometimes
					<input type="radio" name="q7" value="4">Disagree
					<input type="radio" name="q7" value="5">Strongly Disagree
				</p>

				<p class="qHeader">Question 8</p>
				<p class="question">You have strong believes, morals, values.</p>
				<p class="options">
					<input type="radio" name="q8" value="1">Strongly Agree
					<input type="radio" name="q8" value="2">Agree
					<input type="radio" name="q8" value="3">Sometimes
					<input type="radio" name="q8" value="4">Disagree
					<input type="radio" name="q8" value="5">Strongly Disagree
				</p>

				<p class="qHeader">Question 9</p>
				<p class="question">You don't want friends.</p>
				<p class="options">
					<input type="radio" name="q9" value="1">Strongly Agree
					<input type="radio" name="q9" value="2">Agree
					<input type="radio" name="q9" value="3">Sometimes
					<input type="radio" name="q9" value="4">Disagree
					<input type="radio" name="q9" value="5">Strongly Disagree
				</p>

				<p class="qHeader">Question 10</p>
				<p class="question">You like yourself.</p>
				<p class="options">
					<input type="radio" name="q10" value="1">Strongly Agree
					<input type="radio" name="q10" value="2">Agree
					<input type="radio" name="q10" value="3">Sometimes
					<input type="radio" name="q10" value="4">Disagree
					<input type="radio" name="q10" value="5">Strongly Disagree
				</p>

			</div>


			<p id="subContainer">
				<button id="submit">
					<span class="glyphicon glyphicon-search" aria-hidden="true"></span> Submit
				</button>
			</p>
		</form>
	</div>
</body>
</html>

<script type="text/javascript">
	//$(document).ready(function(){
		 var qArray = [];
		 var newDiv;

		$('#submit').on('click', function(){
		
			$('input[type=radio]').each(function(){

				if($(this).is(':checked')){
				
					qArray.push(parseInt($(this).val()));
				}

			});	

			var friendName = $('#name').val().trim();
			var friendPhoto = $('#photo').val().trim();
		
			$.post(
				"/api/friends",
				{
					name: friendName,
					photo: friendPhoto,
					scores: qArray
				},
				function(results){
					alert('Survey submitted successfully!');

					newDiv = $("<div></div>").attr({
						id: 'popUp',
						title: 'Successful Match'
						//html: 'blah'
					}).html('blah' + "\n" +results);


					$(".container").append(newDiv);

					$('#popUp').dialog({
						modal: true,
						draggable: false,
						resizable: false,
						autoOpen: true,
						postition: ['center', 'top'],
						buttons: [{
							text: 'OK',
							click: function(){
								$(this).dialog("close");
							}
						}]
					});

				}/*, 'json'*/);

			return false;
		});

	//});	

</script>